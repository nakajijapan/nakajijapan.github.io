<!DOCTYPE html>
<html lang="ja-JP">
<head>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.136.5">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta property="og:title" content="[入門][続き２]rails3でコントローラ作成してみました！">
<meta property="og:type" content="website" />
<meta property="og:url" content="http://nakajijapan.github.io/posts/2011/2011-10-05_2932/" />
<meta property="go:description" content="お勉強のつづきです。
rails3フレームワークを指定したディレクトリにインストールします。
コマンドはrailsを利用してもろもろ作成していきます。

[nakajijapan] #rails new test
・
・
・

Using rack-ssl (1.3.2) 
Using rdoc (3.9.4) 
Using thor (0.14.6) 
Using railties (3.1.0) 
Installing coffee-rails (3.1.1) 
Installing jquery-rails (1.0.14) 
Using rails (3.1.0) 
Installing sass (3.1.8) 
Installing sass-rails (3.1.4) 
Using sqlite3 (1.3.4) 
Installing turn (0.8.2) 
Installing uglifier (1.0.3) 
Your bundle is complete! Use `bundle show [gemname]` to see where a bundled gem is installed.

その後、コントローラを導入してみます。
処理内容としては顧客情報のCRUDをやらせましょう。

[nakajijapan] #rails generate scaffold customer name:string email:string address:text                                                                                               [/var/www/spec]
/usr/local/Cellar/ruby/1.9.2-p290/lib/ruby/gems/1.9.1/gems/rack-1.3.4/lib/rack/backports/uri/common_192.rb:53: warning: already initialized constant WFKV_
      invoke  active_record
      create    db/migrate/20111004120942_create_customers.rb
      create    app/models/customer.rb
      invoke    test_unit
      create      test/unit/customer_test.rb
      create      test/fixtures/customers.yml
       route  resources :customers
      invoke  scaffold_controller
      create    app/controllers/customers_controller.rb
      invoke    erb
      create      app/views/customers
      create      app/views/customers/index.html.erb
      create      app/views/customers/edit.html.erb
      create      app/views/customers/show.html.erb
      create      app/views/customers/new.html.erb
      create      app/views/customers/_form.html.erb
      invoke    test_unit
      create      test/functional/customers_controller_test.rb
      invoke    helper
      create      app/helpers/customers_helper.rb
      invoke      test_unit
      create        test/unit/helpers/customers_helper_test.rb
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/customers.js.coffee
      invoke    scss
      create      app/assets/stylesheets/customers.css.scss
      invoke  scss
      create    app/assets/stylesheets/scaffolds.css.scss

もろもろできちゃいましたね。これでCRUDの処理系は作成し終わっちゃうことになりました。" />
<meta property="og:site_name" content="おじさんは生きている"/>


<meta property="og:image" content="/images/meta_logo.jpg" />

<meta name="twitter:card" content="nakajijapan">
<meta name="twitter:site" content="@nakajijapan">
<meta name="twitter:card"  content="summary" />
<meta name="twitter:title" content="[入門][続き２]rails3でコントローラ作成してみました！" />
<meta name="twitter:description" content="お勉強のつづきです。
rails3フレームワークを指定したディレクトリにインストールします。
コマンドはrailsを利用してもろもろ作成していきます。

[nakajijapan] #rails new test
・
・
・

Using rack-ssl (1.3.2) 
Using rdoc (3.9.4) 
Using thor (0.14.6) 
Using railties (3.1.0) 
Installing coffee-rails (3.1.1) 
Installing jquery-rails (1.0.14) 
Using rails (3.1.0) 
Installing sass (3.1.8) 
Installing sass-rails (3.1.4) 
Using sqlite3 (1.3.4) 
Installing turn (0.8.2) 
Installing uglifier (1.0.3) 
Your bundle is complete! Use `bundle show [gemname]` to see where a bundled gem is installed.

その後、コントローラを導入してみます。
処理内容としては顧客情報のCRUDをやらせましょう。

[nakajijapan] #rails generate scaffold customer name:string email:string address:text                                                                                               [/var/www/spec]
/usr/local/Cellar/ruby/1.9.2-p290/lib/ruby/gems/1.9.1/gems/rack-1.3.4/lib/rack/backports/uri/common_192.rb:53: warning: already initialized constant WFKV_
      invoke  active_record
      create    db/migrate/20111004120942_create_customers.rb
      create    app/models/customer.rb
      invoke    test_unit
      create      test/unit/customer_test.rb
      create      test/fixtures/customers.yml
       route  resources :customers
      invoke  scaffold_controller
      create    app/controllers/customers_controller.rb
      invoke    erb
      create      app/views/customers
      create      app/views/customers/index.html.erb
      create      app/views/customers/edit.html.erb
      create      app/views/customers/show.html.erb
      create      app/views/customers/new.html.erb
      create      app/views/customers/_form.html.erb
      invoke    test_unit
      create      test/functional/customers_controller_test.rb
      invoke    helper
      create      app/helpers/customers_helper.rb
      invoke      test_unit
      create        test/unit/helpers/customers_helper_test.rb
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/customers.js.coffee
      invoke    scss
      create      app/assets/stylesheets/customers.css.scss
      invoke  scss
      create    app/assets/stylesheets/scaffolds.css.scss

もろもろできちゃいましたね。これでCRUDの処理系は作成し終わっちゃうことになりました。" />

<link href="//fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<link rel="stylesheet" href="/css/normalize.css">
<link rel="stylesheet" href="/css/skeleton.css">
<link rel="stylesheet" href="/css/custom.css">
<link rel="alternate" href="/feed.xml" type="application/rss+xml" title="おじさんは生きている">

<title>[入門][続き２]rails3でコントローラ作成してみました！ - おじさんは生きている</title>
</head>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZJWZ1S620C"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZJWZ1S620C');
</script>


<body>
	<header role="banner">
		<div class="header-image">
			<div class="header-logo">
				<a href="/"><img src="/images/logo.jpg" width="60" height="60" alt="おじさんは生きている"></a>
			</div>
			

			<div class="header-menu">
				<a href="/">Home</a> / <a href="/about">About</a>
			</div>
		</div>
	</header>
	<div class="container">




<main role="main">
    <article itemscope itemtype="http://schema.org/BlogPosting">
        <h1 class="entry-title" itemprop="headline">[入門][続き２]rails3でコントローラ作成してみました！</h1>
        <span class="entry-meta">
            <time itemprop="datePublished" datetime="2011-10-05">October 05, 2011</time>
        </span>
        
        <span class="entry-categories">
            
                (
                    <a href="/categories/ruby">Ruby</a>
                )
            
        </span>
        
        
        <span class="entry-diary">
            
        </span>

        <section itemprop="entry-text">
            <p>お勉強のつづきです。</p>
<p>rails3フレームワークを指定したディレクトリにインストールします。
コマンドはrailsを利用してもろもろ作成していきます。</p>
<pre class="brush:bash">
[nakajijapan] #rails new test
・
・
・

Using rack-ssl (1.3.2) 
Using rdoc (3.9.4) 
Using thor (0.14.6) 
Using railties (3.1.0) 
Installing coffee-rails (3.1.1) 
Installing jquery-rails (1.0.14) 
Using rails (3.1.0) 
Installing sass (3.1.8) 
Installing sass-rails (3.1.4) 
Using sqlite3 (1.3.4) 
Installing turn (0.8.2) 
Installing uglifier (1.0.3) 
Your bundle is complete! Use `bundle show [gemname]` to see where a bundled gem is installed.
</pre>
<p>その後、コントローラを導入してみます。
処理内容としては顧客情報のCRUDをやらせましょう。</p>
<pre class="brush:bash">
[nakajijapan] #rails generate scaffold customer name:string email:string address:text                                                                                               [/var/www/spec]
/usr/local/Cellar/ruby/1.9.2-p290/lib/ruby/gems/1.9.1/gems/rack-1.3.4/lib/rack/backports/uri/common_192.rb:53: warning: already initialized constant WFKV_
      invoke  active_record
      create    db/migrate/20111004120942_create_customers.rb
      create    app/models/customer.rb
      invoke    test_unit
      create      test/unit/customer_test.rb
      create      test/fixtures/customers.yml
       route  resources :customers
      invoke  scaffold_controller
      create    app/controllers/customers_controller.rb
      invoke    erb
      create      app/views/customers
      create      app/views/customers/index.html.erb
      create      app/views/customers/edit.html.erb
      create      app/views/customers/show.html.erb
      create      app/views/customers/new.html.erb
      create      app/views/customers/_form.html.erb
      invoke    test_unit
      create      test/functional/customers_controller_test.rb
      invoke    helper
      create      app/helpers/customers_helper.rb
      invoke      test_unit
      create        test/unit/helpers/customers_helper_test.rb
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/customers.js.coffee
      invoke    scss
      create      app/assets/stylesheets/customers.css.scss
      invoke  scss
      create    app/assets/stylesheets/scaffolds.css.scss
</pre>
<p>もろもろできちゃいましたね。これでCRUDの処理系は作成し終わっちゃうことになりました。</p>
<p>お継ぎはrakeっていうコマンドを利用して、顧客テーブルをDBに反映させます。すごい便利ですね。
その前にコマンド群をbrewでインストールしているために、若干パスが通っているかのチェックと
あるファイルを要求させないとうまく動かないので入れておきます。</p>
<pre class="brush:bash">
vi /usr/local/bin/rake
require 'rake/dsl_definition'
</pre>
<p>DB反映</p>
<pre class="brush:bash">
[nakajijapan] #rake db:migrate                                                                                                                                               [/var/www/spec/config]
(in /private/var/www/spec)
rake aborted!
Please install the mysql adapter: `gem install activerecord-mysql-adapter` (mysql is not part of the bundle. Add it to Gemfile.)

Tasks: TOP => db:migrate => db:load_config
(See full trace by running task with --trace)
</pre>
<p>ひゃっほーー。</p>
<p>・・・・！！！！！</p>
<p>アボンしました。</p>
<p>gemで以下のDBに関するプラグイン郡を入れてみることにします。</p>
<pre class="brush:bash">
[nakajijapan] #sudo gem install activerecord-mysql-adapter                                                                                                                   [/var/www/spec/config]
ERROR:  Could not find a valid gem 'activerecord-mysql-adapter' (>= 0) in any repository
ERROR:  Possible alternatives: activerecord-jdbcmysql-adapter, activerecord-odbc-adapter, activerecord-jdbc-adapter, activerecord-jdbcmssql-adapter, activerecord-jdbch2-adapter

[nakajijapan] #gem install activerecord-jdbcmysql-adapter, activerecord-odbc-adapter, activerecord-jdbc-adapter, activerecord-jdbcmssql-adapter, activerecord-jdbch2-adapter [/var/www/spec/config]
ERROR:  Could not find a valid gem 'activerecord-jdbcmysql-adapter,' (>= 0) in any repository
^CERROR:  Interrupted

[nakajijapan] #gem install activerecord-jdbcmysql-adapter activerecord-odbc-adapter activerecord-jdbc-adapter activerecord-jdbcmssql-adapter activerecord-jdbch2-adapter     [/var/www/spec/config]
Fetching: activerecord-jdbc-adapter-1.2.0.gem (100%)
Fetching: jdbc-mysql-5.1.13.gem (100%)
Fetching: activerecord-jdbcmysql-adapter-1.2.0.gem (100%)
Successfully installed activerecord-jdbc-adapter-1.2.0
Successfully installed jdbc-mysql-5.1.13
Successfully installed activerecord-jdbcmysql-adapter-1.2.0
Fetching: activerecord-odbc-adapter-2.0.gem (100%)
Successfully installed activerecord-odbc-adapter-2.0
Successfully installed activerecord-jdbc-adapter-1.2.0
Fetching: jdbc-jtds-1.2.5.gem (100%)
Fetching: activerecord-jdbcmssql-adapter-1.2.0.gem (100%)
Successfully installed jdbc-jtds-1.2.5
Successfully installed activerecord-jdbcmssql-adapter-1.2.0
Fetching: jdbc-h2-1.3.154.gem (100%)
Fetching: activerecord-jdbch2-adapter-1.2.0.gem (100%)
Successfully installed jdbc-h2-1.3.154
Successfully installed activerecord-jdbch2-adapter-1.2.0
9 gems installed
Installing ri documentation for activerecord-jdbc-adapter-1.2.0...
Installing ri documentation for jdbc-mysql-5.1.13...
Installing ri documentation for activerecord-jdbcmysql-adapter-1.2.0...
Installing ri documentation for activerecord-odbc-adapter-2.0...
Installing ri documentation for activerecord-jdbc-adapter-1.2.0...
Installing ri documentation for jdbc-jtds-1.2.5...
Installing ri documentation for activerecord-jdbcmssql-adapter-1.2.0...
Installing ri documentation for jdbc-h2-1.3.154...
Installing ri documentation for activerecord-jdbch2-adapter-1.2.0...
Installing RDoc documentation for activerecord-jdbc-adapter-1.2.0...
Installing RDoc documentation for jdbc-mysql-5.1.13...
Installing RDoc documentation for activerecord-jdbcmysql-adapter-1.2.0...
Installing RDoc documentation for activerecord-odbc-adapter-2.0...
Installing RDoc documentation for activerecord-jdbc-adapter-1.2.0...
Installing RDoc documentation for jdbc-jtds-1.2.5...
Installing RDoc documentation for activerecord-jdbcmssql-adapter-1.2.0...
Installing RDoc documentation for jdbc-h2-1.3.154...
Installing RDoc documentation for activerecord-jdbch2-adapter-1.2.0...
</pre>
<p>これも必要らしい（あ、忘れた。。。）</p>
<pre class="brush:bash">
sudo gem install bundler
</pre>
<p>もう一度DBに反映させてみます。</p>
<pre class="brush:bash">
[nakajijapan] #rake db:migrate                                                                                                                                                      [/var/www/spec]
==  CreateCustomers: migrating ================================================
-- create_table(:customers)
   -> 0.1567s
==  CreateCustomers: migrated (0.1568s) =======================================
</pre>
<p>ひゃっほー！！</p>
<p>DBでもチェックしてみます。</p>
<pre class="brush:bash">
mysql> desc customers;
+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| id         | int(11)      | NO   | PRI | NULL    | auto_increment |
| name       | varchar(255) | YES  |     | NULL    |                |
| email      | varchar(255) | YES  |     | NULL    |                |
| address    | text         | YES  |     | NULL    |                |
| created_at | datetime     | YES  |     | NULL    |                |
| updated_at | datetime     | YES  |     | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
6 rows in set (0.01 sec)
</pre>
<p>できましたね。</p>
<p>簡単にできるのはいいけど、多少の融通きけるものであってほしいけどどうなんでしょうね！！！</p>
<p>次はまた今度。</p>
<p>■参照URL
<a href="http://www.milligramme.cc/wp/archives/3475">http://www.milligramme.cc/wp/archives/3475</a>
<a href="http://stackoverflow.com/questions/4297253/install-mysql2-gem-on-snow-leopard-for-rails-3-with-rv">http://stackoverflow.com/questions/4297253/install-mysql2-gem-on-snow-leopard-for-rails-3-with-rv</a></p>

        </section>
    </article>
</main>


	<footer role="contentinfo">
		<div class="hr"></div>
		<div class="footer-link">
			<a href="mailto:pp.kupepo.gattyanmo@gmail.com" target="_blank">Email</a>
			
			<a href="https://www.facebook.com/nakajijapan" target="_blank">Facebook</a>
			<a href="https://github.com/nakajijapan/" target="_blank">GitHub</a>
		</div>
		<div class="copyright">Copyright &copy; nakajijapan All rights reserved.</div>
	</footer>

</div>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>

